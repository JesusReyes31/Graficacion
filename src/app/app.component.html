<div class="app-container">
  <div class="main-content">
    <!-- Barra lateral -->
    <nav class="sidebar">
      <div class="sidebar-header">
        <i class="fas fa-project-diagram"></i>
        <h2>Proyectos UML</h2>
      </div>
      
      <div class="sidebar-content">
        <ul class="project-list">
          <li *ngFor="let proyecto of proyectos" 
              (click)="seleccionarProyecto(proyecto.Nombre,proyecto.ID)"
              [class.active]="proyecto.Nombre === proyectoSeleccionado">
            <div class="project-item">
              <i class="fas fa-folder-open"></i> 
              <span>{{ proyecto.Nombre }}</span>
            </div>
            <div class="acciones">
              <button class="action-btn edit-btn" (click)="editarProyecto(proyecto, $event)" title="Editar proyecto">
                <i class="fas fa-edit"></i>
              </button>
              <button class="action-btn delete-btn" (click)="eliminarProyecto(proyecto.ID, $event)" title="Eliminar proyecto">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </li>
          
          @if(creandoProyecto){
            <li class="input-container">
              <input type="text" [(ngModel)]="nuevoProyecto" (keyup.enter)="agregarProyecto()"
                placeholder="Nombre del proyecto" (blur)="cancelarNuevoProyecto()" autofocus>
              <i class="fas fa-times cancel-icon" (click)="cancelarNuevoProyecto()"></i>
            </li>
          }@else{
            <li class="new-project-btn" (click)="activarInput()">
              <i class="fas fa-plus-circle"></i> 
              <span>Nuevo Proyecto</span>
            </li>
          }
        </ul>
      </div>
    </nav>

    <!-- Contenido principal -->
    <main class="content">
      <div class="header">
        <div class="header-content">
          <h1><i class="fas fa-diagram-project"></i> Creación de Diagramas UML</h1>
          @if(proyectoSeleccionado){
            <button class="btn-generar" [disabled]="isButtonDisabled">
              <i class="fas fa-code"></i> Generar Código
            </button>
          }
        </div>
      </div>
      
      <div class="content-body">
        @if(proyectoSeleccionado){
          <div class="project-header">
            <h2><i class="fas fa-folder-open"></i> {{proyectoSeleccionado}}</h2>
            <p>Selecciona un artefacto UML para comenzar a diseñar.</p>
          </div>
          
          <!-- Menú de artefactos UML -->
          <section class="uml-artifacts">
            <ul>
              <li [routerLink]="'/cu'" [class.active]="activeRoute === '/cu'">
                <i class="fas fa-user-gear"></i>
                <span>Casos de Uso</span>
              </li>
              <li [routerLink]="'/secuencia'" [class.active]="activeRoute === '/secuencia'">
                <i class="fas fa-arrows-up-down"></i>
                <span>Diagramas de Secuencia</span>
              </li>
              <li [routerLink]="'/paquetes'" [class.active]="activeRoute === '/paquetes'">
                <i class="fas fa-box"></i>
                <span>Diagramas de Paquetes</span>
              </li>
              <li [routerLink]="'/componentes'" [class.active]="activeRoute === '/componentes'">
                <i class="fas fa-puzzle-piece"></i>
                <span>Diagramas de Componentes</span>
              </li>
              <li [routerLink]="'/clases'" [class.active]="activeRoute === '/clases'">
                <i class="fas fa-sitemap"></i>
                <span>Diagramas de Clases</span>
              </li>
            </ul>
          </section>
        }@else{
          <div class="welcome-screen">
            <div class="welcome-icon">
              <i class="fas fa-diagram-project"></i>
            </div>
            <h2>Bienvenido a tu Herramienta de Modelado UML</h2>
            <p>Selecciona un proyecto existente o crea uno nuevo para comenzar a diseñar tus diagramas.</p>
            <button class="welcome-btn" (click)="activarInput()">
              <i class="fas fa-plus-circle"></i> Crear Nuevo Proyecto
            </button>
          </div>
        }
        
        @if(showComponent){
          <div class="diagram-container">
            <router-outlet></router-outlet>
          </div>
        }
      </div>
    </main>
  </div>
</div>